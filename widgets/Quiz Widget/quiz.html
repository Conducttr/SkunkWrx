<style>
	body{
		background-color: #E9EAED;
	}
	#quiz_container{
			
		background-color: white;
		border: 1px solid #E1E2E3;
		position: absolute;
		top: 0;
		bottom: 0;
		margin: auto;
		left: 0;
		right: 0;
		overflow:auto;
		width:600px;
		max-width:94%;
		height: 530px;
		max-height: 98%;
		border-radius: 3px;
		padding: 1% 3% 1% 3%;
	}	
	.question{
		width:100%;
		overflow:auto;
		margin-top: 30px;
		padding-bottom: 10px;
		margin-bottom: 30px;
		border-bottom: 1px solid #cecece;
	}	
	.question_title{
		font-weight: bold;
		font-size: 16px;
		margin-top: 10px;
		margin-bottom: 10px;

	}
	.preference_name{
		float:left;
		width:260px;
		max-width:100%;
		font-weight:bold;
	}
	.preference_description{
		margin-top: 30px;
		padding-bottom: 10px;
		margin-bottom: 30px;
		border-bottom: 1px solid #cecece;
	}


	.onoffswitch {
		float:left;
		position: relative; width: 50px;
		-webkit-user-select:none; -moz-user-select:none; -ms-user-select: none;
	}
	.onoffswitch-checkbox {
		display: none;
	}
	.onoffswitch-label {
		display: block; overflow: hidden; cursor: pointer;
		border: 2px solid #666666; border-radius: 15px;
	}
	.onoffswitch-inner {
		display: block; width: 200%; margin-left: -100%;
		-moz-transition: margin 0.3s ease-in 0s; -webkit-transition: margin 0.3s ease-in 0s;
		-o-transition: margin 0.3s ease-in 0s; transition: margin 0.3s ease-in 0s;
	}
	.onoffswitch-inner:before, .onoffswitch-inner:after {
		display: block; float: left; width: 50%; height: 15px; padding: 0; line-height: 15px;
		font-size: 10px; color: white; font-family: Trebuchet, Arial, sans-serif; font-weight: bold;
		-moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box;
		border-radius: 15px;
		box-shadow: 0px 7.5px 0px rgba(0,0,0,0.08) inset;
	}
	.onoffswitch-inner:before {
		content: "Yes";
		padding-left: 10px;
		background-color: #EC1F23; color: #FFFFFF;
		border-radius: 15px 0 0 15px;
	}
	.onoffswitch-inner:after {
		content: "No";
		padding-right: 10px;
		background-color: #FFFFFF; color: #666666;
		text-align: right;
		border-radius: 0 15px 15px 0;
	}
	.onoffswitch-switch {
		display: block; width: 15px; margin: 0px;
		background: #FFFFFF;
		border: 2px solid #666666; border-radius: 15px;
		position: absolute; top: 0; bottom: 0; right: 31px;
		-moz-transition: all 0.3s ease-in 0s; -webkit-transition: all 0.3s ease-in 0s;
		-o-transition: all 0.3s ease-in 0s; transition: all 0.3s ease-in 0s; 
		background-image: -moz-linear-gradient(center top, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0) 80%); 
		background-image: -webkit-linear-gradient(center top, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0) 80%); 
		background-image: -o-linear-gradient(center top, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0) 80%); 
		background-image: linear-gradient(center top, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0) 80%);
		box-shadow: 0 1px 1px white inset;
	}
	.onoffswitch-checkbox:checked + .onoffswitch-label .onoffswitch-inner {
		margin-left: 0;
	}
	.onoffswitch-checkbox:checked + .onoffswitch-label .onoffswitch-switch {
		right: 0px; 
	}
	input:not([type="radio"]){
		width:99%
	}
	hr {
		padding: 0;
		border: none;
		border-top: medium double #333;
		color: #333;
		text-align: center;
	}
	hr:after {
		content: "ยง";
		display: inline-block;
		position: relative; 
		top: -0.7em;  
		font-size: 1.5em;
		padding: 0 0.25em;
		background: white;
	}
	label.btn{
		padding: 6px 12px;
		margin-bottom: 0;
		font-size: 14px;
		font-weight: 400;
		line-height: 1.42857143;
		text-align: center;
		white-space: nowrap;
		vertical-align: middle;
		-ms-touch-action: manipulation;
		touch-action: manipulation;
		cursor: pointer;
		-webkit-user-select: none;
		-moz-user-select: none;
		-ms-user-select: none;
		user-select: none;
		background-image: none;
		border: 1px solid #808080;
		border-radius: 4px;
	}
	input[type="radio"]{
		display:none;
	}
	input[type="radio"]:checked + label {
		background-image: linear-gradient(to top,#969696,#727272);
		box-shadow: inset 0 1px 6px rgba(41, 41, 41, 0.2),
					0 1px 2px rgba(0, 0, 0, 0.05);
		cursor: default;
		color: #E6E6E6;
		border-color: transparent;
		text-shadow: 0 1px 1px rgba(40, 40, 40, 0.75);
	}

	input[type="radio"] + label {
		width: auto;
	}

	input[type="radio"]:checked + label:hover {
		background-color: inherit;
		background-position: 0 0;
		transition: none;
	}


	li{
		list-style:none;
		margin-top: 15px;
		margin-bottom: 15px;
	}

	#sent_message{
		background-color: white;
		border: 1px solid #E1E2E3;
		position: absolute;
		text-align:center;
		top: 0;
		bottom: 0;
		margin: auto;
		left: 0;
		right: 0;
		overflow:auto;
		width:600px;
		max-width:94%;
		height: 530px;
		max-height: 98%;
		border-radius: 3px;
		padding: 1% 3% 1% 3%;
	}
	@media only screen and (min-device-width: 320px) and (max-device-width: 800px) {
		#preferences_container{ border:0;}
	}
</style>

<div id="quiz_container">	
	<h2>Conducttr's Quiz Widget </h2>
	<h4>Write your email, answer the questions and click "Send!"</h4><br>
	
	<b>Your email</b><br><br>
	<input id="audience_email" type="text" placeholder="Your email"/>
	<br><br>
	<hr>
	<div class="question">
		<div class="question_title">First question - with a numeric answer : </div>
		<input type="number" name="attribute_integer" id="attribute_integer"  />
	</div>	
		
	<div class="question">
		<div class="question_title"> Second question - with an open text answer : </div>
		<input type="text" name="attribute_single_line" id="attribute_single_line"  />
	</div>	
	
	<div class="question">
		<div class="question_title"> Third question - with a yes/no answer: </div>
			<!--
			<label>Boolean: </label>
			<input type="radio" name="option" id="option_true" value="1">True
			<input type="radio" name="option" id="option_false" value="0">False
			-->
		<div class="onoffswitch">
			<input type="checkbox" id="attribute_boolean" name="attribute_boolean" class="onoffswitch-checkbox" value="1" >
			<label class="onoffswitch-label" for="attribute_boolean">
				<span class="onoffswitch-inner"></span>
				<span class="onoffswitch-switch"></span>
			</label>
		</div>
	</div>

	<div class="question">
		<div class="question_title"> Fourth question - Multiple choice answer : </div>
		<li>
			<input type="radio" name="option" id="option_1" value="1" checked><label for="option_1" class="btn">Option 1 </label>
		</li>
		<li>
			<input type="radio" name="option" id="option_2"  value="2"><label for="option_2" class="btn">Option 2 </label>
		</li>
		<li>
			<input type="radio" name="option" id="option_3" value="3"><label for="option_3" class="btn">Option 3 </label>
		</li>
		<li>
			<input type="radio" name="option" id="option_4"  value="4"><label for="option_4" class="btn">Option 4 </label>
		</li>
	</div>
	<center><button onClick="sendQuiz();">Send</button></center>
</div>		
<div id="sent_message" style="display:none">
	The quiz has been sent. Thank you for your participation!
</div>
		
<script>
	function sendQuiz() {
		/*	
		function check(){
			if ( (document.getElementById('attribute_integer').value!="") && (document.getElementById('attribute_text').value!="") && (document.getElementById('option_true').checked || document.getElementById('option_false').checked)){
				document.getElementsByName("conducttr_signup")[0].submit();;
			}
			else{
				alert("Please fill all the fields");
			}
		}
		*/

		/*---------------------------- Edit the information below ------------------------*/        

		var CONDUCTTR_CONSUMER_KEY = "YOUR_CONDUCTTR_CONSUMER_KEY";
		var CONDUCTTR_PROJECT_ID = "YOUR_CONDUCTTR_PROJECT_ID";
		var CONDUCTTR_METHOD_NAME = "quiz";
		
		/*----------------------------- Edit the information above ------------------------*/        

		var audience_email = document.getElementById('audience_email').value;

		/*--------------------------- API Call to register the referrer --------------------*/    
		
		
		/*---------------------------- Edit the information below ------------------------*/        

		var attribute_integer = document.getElementById('attribute_integer').value;
		
		var attribute_single_line = document.getElementById('attribute_single_line').value;
		
		if (document.getElementById('attribute_boolean').checked) var attribute_boolean = 1;
		else var attribute_boolean = 0;
		
		var attribute_integer_2 = document.querySelector('input[name="option"]:checked').value;
		
				 
		var attribute_values = "consumer_key="+CONDUCTTR_CONSUMER_KEY;
		attribute_values+="&audience_email="+audience_email;
		//attribute_values+="&audience_phone="+audience_phone;
		attribute_values+="&attribute_integer="+attribute_integer;
		attribute_values+="&attribute_single_line="+attribute_single_line;
		attribute_values+="&attribute_boolean="+attribute_boolean;
		attribute_values+="&attribute_integer_2="+attribute_integer_2;
		
		/*----------------------------- Edit the information above ------------------------*/        

		var xmlhttp;
		if (window.XMLHttpRequest)xmlhttp = new XMLHttpRequest();
		else xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");	
		xmlhttp.open("POST", "https://api.conducttr.com/v1/project/"+CONDUCTTR_PROJECT_ID+"/unauth/"+CONDUCTTR_METHOD_NAME, true);	
		xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");
		xmlhttp.send(attribute_values);
		
		//window.location.href = "http://YOUR-REDIRECTION-URL.com";

		document.getElementById('quiz_container').style.display = 'none';
		document.getElementById('sent_message').style.display = 'block';

	}; 
</script>
